"use strict";(self.webpackChunkpxlNav=self.webpackChunkpxlNav||[]).push([[26],{26:(e,r,t)=>{function asyncGeneratorStep(e,r,t,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function _next(e){asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}t.r(r),t.d(r,{MediaPipePlugin:()=>MediaPipePlugin});class MediaPipePlugin{constructor(){this.workerScriptUrl="./PoseEngine_worker.js",this.worker=null,this.booted=!1}static loadScriptWithProgress(e,r){return _asyncToGenerator((function*(){return new Promise(((t,n)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="text",o.onprogress=e=>{if(e.lengthComputable&&"function"==typeof r){var t=Math.round(e.loaded/e.total*100);r(t)}},o.onload=()=>{if(200===o.status){var r=document.createElement("script");r.textContent=o.responseText,document.head.appendChild(r),t()}else n(new Error("Failed to load script: ".concat(e)))},o.onerror=()=>n(new Error("Network error while loading: ".concat(e))),o.send()}))}))()}init(e){var r=this;return _asyncToGenerator((function*(){try{console.log("Loading MediaPipe..."),yield MediaPipePlugin.loadScriptWithProgress("https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js",e),r.worker=new Worker(r.workerScriptUrl),r.booted=!0,console.log("MediaPipe Plugin Initialized")}catch(e){console.error("Error initializing MediaPipePlugin:",e)}}))()}sendMessage(e){this.booted?this.worker.postMessage(e):console.warn("MediaPipePlugin is not initialized.")}onMessage(e){this.worker?this.worker.onmessage=r=>e(r.data):console.warn("WebWorker not initialized.")}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,console.log("WebWorker terminated."))}}}}]);